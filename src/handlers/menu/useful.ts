import {Context} from "@/database/models/context";
import {Composer, InlineKeyboard} from "grammy";

export const composer = new Composer<Context>()
composer.command('useful', handlerMenu)
composer.callbackQuery('useful', callbackHandler)

function keyb() {
    return new InlineKeyboard()
        .text(`üí¨ –ö–∞–Ω–∞–ª—ã & –ß–∞—Ç—ã`, 'useful url list for user')
        .row()
        .text(`üëë –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ PRO`, 'useful prostatus')
        .row()
        .text(`üí≥ –í–±–∏–≤–µ—Ä—ã`, 'vbiv')
        .row()
        .text(`üå≥ –ü—Ä–∞–≤–∏–ª–∞`, 'rules')
        .text(`üê® –°–≤—è–∑—å`, 'communication')
        .row()
        .url(`üìö –ì–∞–π–¥—ã`, 'https://t.me/+D9xFXVS9w840YTli')
        .row()
        .text(`–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é`, 'menu')
}


const text = async (ctx: Context) => {
    return `üê® KOA - –≠—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –∫–æ–º–∞–Ω–¥–∞, –∞ —Å–æ–∑–¥–∞–Ω–Ω—ã–π –ø–µ—Ä—Å–æ–Ω–∞–∂, –∫–æ—Ç–æ—Ä—ã–π –æ–±—ä–µ–¥–∏–Ω–∏–ª —Å–∞–º—ã—Ö –∞–º–±–∏—Ü–∏–æ–∑–Ω—ã—Ö –ª—é–¥–µ–π, —á—Ç–æ–±—ã —Ä–∞–∑—ä–µ–±—ã–≤–∞—Ç—å —ç—Ç—É –∏–Ω–¥—É—Å—Ç—Ä–∏—é.
–°–∫–æ—Ä–æ –æ–±—ä—è–≤–∏–º –æ —Å–ª–µ–¥—É—é—â–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö...

üê® –í –Ω–∞—à–µ–π –∫–æ–º–∞–Ω–¥–µ –≤–æ—Ä–∫–µ—Ä—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞—à—É —Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É –¥–ª—è —á–∞—Ç–∞ –Ω–∞ —Å—Å—ã–ª–∫–µ, —Ç–∞–∫ –∫–∞–∫ –º—ã –∑–Ω–∞–µ–º —Å–≤–æ—é —Ä–∞–±–æ—Ç—É –∏ –∏–º–µ–µ–º –±–µ—Å—Ü–µ–Ω–Ω—ã–π –æ–ø—ã—Ç –ø–æ –æ–±—â–µ–Ω–∏—é —Å ü¶£. –í–æ—Ä–∫–µ—Ä –∑–∞–≤–æ–¥–∏—Ç —Ç—Ä–∞—Ñ–∏–∫ —Å –ø–ª–æ—â–∞–¥–æ–∫, –∞ —Å–æ—Å—Ç–∞–≤ –Ω–∞—à–µ–π –∫–æ–º–∞–Ω–¥—ã –ø—Ä–æ–≤–æ–¥–∏—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–æ–¥ –∫–ª—é—á.

üê® –î–ª—è —á–∞—Ç–∞, –≤ –±–æ—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å–µ—Ä–≤–∏—Å SmartSupp. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ –ø—Ä–æ–≤–æ–¥–∏—Ç—å –æ–±—â–µ–Ω–∏–µ —Å ü¶£, –∞ —Ç–∞–∫–∂–µ –¥–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –æ—Ç–≤–µ—Ç—ã.

üê® –ï—Å–ª–∏ —Ç—ã –≤—Å–µ –∂–µ —Ä–µ—à–∏–ª —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–≤–æ—é —Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É, —Ç–æ–≥–¥–∞ –ª–æ–≤–∏ –≥–∞–π–¥. –∫–∞–∫ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è, –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–≤–æ–π smartsupp –∫–ª—é—á –≤ –±–æ—Ç–∞.

üê® –ù–∏–∫–∞–∫–∏—Ö –ª–∏—à–Ω–∏—Ö –∫–Ω–æ–ø–æ–∫ –∏ –¥–µ–π—Å—Ç–≤–∏–π, —É—Å–ª–æ–∂–Ω—è—é—â–∏–µ —Ç–µ–±–µ —Ä–∞–±–æ—Ç—É! –í –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –ø—Ä–∏—à–ª–∏ —Å—Å—ã–ª–∫—É –Ω–∞ —Ç–æ–≤–∞—Ä –≤ –±–æ—Ç–∞, –∞ –æ–Ω —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥–ª—è —Ç–µ–±—è –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å EMAIL/SMS —Ç–≤–æ–µ–º—É ü¶£.
`.replace('\n', '')
}

export async function handlerMenu(ctx: Context)  {
    return ctx.reply(await text(ctx), {
        reply_markup: keyb()
    })
}

async function callbackHandler(ctx: Context)  {
    return ctx.editMessageCaption( {
        caption: await text(ctx),
        reply_markup: keyb()
    })
}